<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="grates">
<title>Introduction â€¢ grates</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="grates">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">grates</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/reconverse/grates/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/reconverse/grates/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>grates tries to make it easy to perform common date grouping
operation by providing a simple and coherent implementations of a
variety ofgrouped date classes:</p>
<ul>
<li>
<em>grates_yearweek</em> with arbitrary first day of the week (see
<code><a href="../reference/as_yearweek.html">as_yearweek()</a></code>);</li>
<li>
<em>grates_month</em> (see <code><a href="../reference/as_month.html">as_month()</a></code>);</li>
<li>
<em>grates_quarter</em> (see <code><a href="../reference/as_quarter.html">as_quarter()</a></code>);</li>
<li>
<em>grates_year</em> (see <code><a href="../reference/as_year.html">as_year()</a></code>);</li>
<li>
<em>grates_period</em> and <em>grates_int_period</em> for periods of
constant length (see <code><a href="../reference/as_period.html">as_period()</a></code> and
<code><a href="../reference/as_int_period.html">as_int_period()</a></code>).</li>
</ul>
<p>These classes aim to be formalise the idea of a grouped date whilst
also being intuitive in their use. They build upon ideas of Davis
Vaughan and the <a href="https://github.com/DavisVaughan/datea/" class="external-link">datea</a> package.</p>
<p>As well as the class implementations we also provide x-axis scales
for use with <a href="https://cran.r-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p>
<p><strong>NOTE</strong>: When plotting graphs you may want more
flexibility then the built in scales provide. If you find yourself in
this situation there is always the option to convert the grouped object
to a date using the provided <code>as.Date</code> method. This will
return the date at the lower bound of the grouping. Equally you can
convert to a factor with <code>as.factor</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.reconverse.org/grates/" class="external-link">grates</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="grates_yearweek">grates_yearweek<a class="anchor" aria-label="anchor" href="#grates_yearweek"></a>
</h3>
<p><code><a href="../reference/as_yearweek.html">as_yearweek()</a></code> allows you to create
<em>grates_yearweek</em> objects. As arguments it takes, <code>x</code>,
the date vector you wish to group and <code>firstday</code>, the day of
the week you wish your weeks to start on; (this defaults to 1 (Monday)
and can go up to 7 (Sunday)). The first week of the year is then defined
as the first week containing 4 days in the new calendar year. This means
that the calendar year can sometimes be different to that of the
associated <code>yearweek</code> object.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create weekday names</span></span>
<span><span class="va">wdays</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/weekday.POSIXt.html" class="external-link">weekdays</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span>, firstday <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">wdays</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>, <span class="va">wdays</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># example of how weeks vary by firstday over December and January</span></span>
<span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-12-29"</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span><span class="op">:</span><span class="fl">5</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">wdays</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="va">dates</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_cols</a></span><span class="op">(</span>dates <span class="op">=</span> <span class="va">dates</span>, <span class="va">dat</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 Ã— 8</span></span></span>
<span><span class="co">#&gt;   dates        Monday  Tuesday Wednesday Thursday   Friday Saturday   Sunday</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2020-12-29 2020-W53 2021-W01  2020-W52 2020-W52 2020-W52 2020-W52 2020-W53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2020-12-30 2020-W53 2021-W01  2021-W01 2020-W52 2020-W52 2020-W52 2020-W53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2020-12-31 2020-W53 2021-W01  2021-W01 2021-W01 2020-W52 2020-W52 2020-W53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2021-01-01 2020-W53 2021-W01  2021-W01 2021-W01 2021-W01 2020-W52 2020-W53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2021-01-02 2020-W53 2021-W01  2021-W01 2021-W01 2021-W01 2021-W01 2020-W53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2021-01-03 2020-W53 2021-W01  2021-W01 2021-W01 2021-W01 2021-W01 2021-W01</span></span></code></pre></div>
<p>We make working with <code>yearweek</code> and other grouped date
objects easier by adopting logical conventions:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span><span class="op">:</span><span class="fl">30</span></span>
<span><span class="va">weeks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="va">dates</span>, firstday <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># firstday = 5 to match first day of year</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">weeks</span>, <span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;grates_yearweek[8]&gt;</span></span>
<span><span class="co">#&gt; [1] 2021-W01 2021-W01 2021-W01 2021-W01 2021-W01 2021-W01 2021-W01 2021-W02</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">weeks</span><span class="op">)</span></span>
<span><span class="co">#&gt;  yrwk [1:31] 2021-W01, 2021-W01, 2021-W01, 2021-W01, 2021-W01, 2021-W01, 20...</span></span>
<span><span class="co">#&gt;  @ firstday: int 5</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">dates</span>, <span class="va">weeks</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># addition of wholenumbers will add the corresponding number of weeks to the object</span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>plus4 <span class="op">=</span> <span class="va">weeks</span> <span class="op">+</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 31 Ã— 3</span></span></span>
<span><span class="co">#&gt;    dates         weeks    plus4</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2021-01-01 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2021-01-02 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2021-01-03 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2021-01-04 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2021-01-05 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2021-01-06 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2021-01-07 2021-W01 2021-W05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2021-01-08 2021-W02 2021-W06</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2021-01-09 2021-W02 2021-W06</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2021-01-10 2021-W02 2021-W06</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â€¦ with 21 more rows</span></span></span>
<span></span>
<span><span class="co"># addition of two yearweek objects will error as it is unclear what the intention is</span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>plus4 <span class="op">=</span> <span class="va">weeks</span> <span class="op">+</span> <span class="va">weeks</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `mutate()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Problem while computing `plus4 = weeks + weeks`.</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Caused by error in `vec_arith()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> &lt;grates_yearweek&gt; + &lt;grates_yearweek&gt; is not permitted</span></span>
<span></span>
<span><span class="co"># Subtraction of wholenumbers works similarly to addition</span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>minus4 <span class="op">=</span> <span class="va">weeks</span> <span class="op">-</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 31 Ã— 3</span></span></span>
<span><span class="co">#&gt;    dates         weeks   minus4</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2021-01-01 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2021-01-02 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2021-01-03 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2021-01-04 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2021-01-05 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2021-01-06 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2021-01-07 2021-W01 2020-W49</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2021-01-08 2021-W02 2020-W50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2021-01-09 2021-W02 2020-W50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2021-01-10 2021-W02 2020-W50</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â€¦ with 21 more rows</span></span></span>
<span></span>
<span><span class="co"># Subtraction of two yearweek objects gives the difference in weeks between them</span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>plus4 <span class="op">=</span> <span class="va">weeks</span> <span class="op">+</span> <span class="fl">4</span>, difference <span class="op">=</span> <span class="va">plus4</span> <span class="op">-</span> <span class="va">weeks</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 31 Ã— 4</span></span></span>
<span><span class="co">#&gt;    dates         weeks    plus4 difference</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2021-01-01 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2021-01-02 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2021-01-03 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2021-01-04 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2021-01-05 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2021-01-06 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2021-01-07 2021-W01 2021-W05          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2021-01-08 2021-W02 2021-W06          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2021-01-09 2021-W02 2021-W06          4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2021-01-10 2021-W02 2021-W06          4</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â€¦ with 21 more rows</span></span></span>
<span></span>
<span><span class="co"># weeks can be combined if they have the same firstday but not otherwise</span></span>
<span><span class="va">wk1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span></span>
<span><span class="va">wk2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">wk1</span>, <span class="va">wk2</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;grates_yearweek[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 2020-W01 2020-W53</span></span>
<span><span class="va">wk3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>, firstday <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">wk1</span>, <span class="va">wk3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `vec_ptype2.grates_yearweek.grates_yearweek()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Can't combine &lt;grates_yearweek&gt;'s with different `firstday`</span></span>
<span></span>
<span><span class="co"># load some simulated linelist data</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ebola_sim_clean</span><span class="op">$</span><span class="va">linelist</span></span>
<span></span>
<span><span class="co"># Example of week plot</span></span>
<span><span class="va">week_plot</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>week <span class="op">=</span> <span class="fu"><a href="../reference/as_yearweek.html">as_yearweek</a></span><span class="op">(</span><span class="va">date_of_infection</span><span class="op">)</span>, firstday <span class="op">=</span> <span class="fl">7</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">week</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">week</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">week_plot</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/yearweekconventions-1.png" width="672" style="display: block; margin: auto;"></p>
<p>We can have date labels on the x_axis by utilising
<code>scale_x_grate_yearweek</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">week_plot</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_x_grates_yearweek.html">scale_x_grates_yearweek</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"%Y-%m-%d"</span>, firstday <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/yearweekplots2-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="grates_month">grates_month<a class="anchor" aria-label="anchor" href="#grates_month"></a>
</h3>
<p><code>as_month</code> allows users to group by a fixed number of
months. As arguments it takes:</p>
<ul>
<li>
<code>x</code>, the date vector you wish to group;</li>
<li>
<code>n</code>, the number of months you wish to group by
(defaulting to 1) and;</li>
<li>
<code>origin</code>, an optional value indicating where you would
like to start your periods from relative to the Unix Epoch
(1970-01-01).</li>
</ul>
<p>By default the provided scale creates a histogram-like plot (unlike a
histogram the widths of the intervals in the plot are identical across
months) but this can be changed to have centralised labelling.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">month_dat</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="../reference/as_month.html">as_month</a></span><span class="op">(</span><span class="va">date_of_infection</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">month_plot</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">month_dat</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="va">month_plot</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/month-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">month_plot</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_x_grates_month.html">scale_x_grates_month</a></span><span class="op">(</span>format <span class="op">=</span> <span class="cn">NULL</span>, n <span class="op">=</span> <span class="fl">2</span>, origin <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/month-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="grate_quarter-and-grate_year">grate_quarter and grate_year<a class="anchor" aria-label="anchor" href="#grate_quarter-and-grate_year"></a>
</h3>
<p><code><a href="../reference/as_quarter.html">as_quarter()</a></code> and <code><a href="../reference/as_year.html">as_year()</a></code> behave similarly
to <code><a href="../reference/as_yearweek.html">as_yearweek()</a></code> with the main difference main being that
they have no need for a <code>firstday</code> argument:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create weekday names</span></span>
<span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-12-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"1 month"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/as_quarter.html">as_quarter</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;grates_quarter[24]&gt;</span></span>
<span><span class="co">#&gt;  [1] 2020-Q1 2020-Q1 2020-Q1 2020-Q2 2020-Q2 2020-Q2 2020-Q3 2020-Q3 2020-Q3</span></span>
<span><span class="co">#&gt; [10] 2020-Q4 2020-Q4 2020-Q4 2021-Q1 2021-Q1 2021-Q1 2021-Q2 2021-Q2 2021-Q2</span></span>
<span><span class="co">#&gt; [19] 2021-Q3 2021-Q3 2021-Q3 2021-Q4 2021-Q4 2021-Q4</span></span>
<span><span class="fu"><a href="../reference/as_year.html">as_year</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;grates_year[24]&gt;</span></span>
<span><span class="co">#&gt;  [1] 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2021 2021 2021</span></span>
<span><span class="co">#&gt; [16] 2021 2021 2021 2021 2021 2021 2021 2021 2021</span></span>
<span><span class="fu"><a href="../reference/as_quarter.html">as_quarter</a></span><span class="op">(</span><span class="va">dates</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span></span>
<span><span class="co">#&gt; &lt;grates_quarter[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 2020-Q1 2020-Q2</span></span>
<span><span class="fu"><a href="../reference/as_year.html">as_year</a></span><span class="op">(</span><span class="va">dates</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span></span>
<span><span class="co">#&gt; &lt;grates_year[2]&gt;</span></span>
<span><span class="co">#&gt; [1] 2020 2021</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="../reference/as_quarter.html">as_quarter</a></span><span class="op">(</span><span class="va">date_of_infection</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="../reference/scale_x_grates_quarter.html">scale_x_grates_quarter</a></span><span class="op">(</span>n.breaks <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/yearothers-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="../reference/as_year.html">as_year</a></span><span class="op">(</span><span class="va">date_of_infection</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">1</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="../reference/scale_x_grates_year.html">scale_x_grates_year</a></span><span class="op">(</span>n.breaks <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/yearothers-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="period">period<a class="anchor" aria-label="anchor" href="#period"></a>
</h3>
<p><code><a href="../reference/as_period.html">as_period()</a></code> is similar to <code><a href="../reference/as_month.html">as_month()</a></code> and
allows users to group by periods of a fixed length. As arguments it
takes, <code>x</code>, the date or integer vector you wish to group,
<code>n</code> and <code>origin</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="../reference/as_period.html">as_period</a></span><span class="op">(</span><span class="va">date_of_infection</span>, n <span class="op">=</span> <span class="fl">14</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">14</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/period-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="../reference/as_period.html">as_period</a></span><span class="op">(</span><span class="va">date_of_infection</span>, n <span class="op">=</span> <span class="fl">28</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">date</span>, name <span class="op">=</span> <span class="st">"cases"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">cases</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">28</span>, colour <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_files/figure-html/period-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tim Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

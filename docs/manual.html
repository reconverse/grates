<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="generator" content="litedown 0.6">
<title>Help pages</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/default.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/article.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/copy-button.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/heading-anchor.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/pages.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/site.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/prism-xcode.min.css">
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/sidenotes.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/appendix.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/toc-highlight.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/copy-button.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/heading-anchor.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/js/pages.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" defer></script>
</head>
<body>
<nav><p><a href="index.html">Home</a>
<a href="articles.html">Articles</a>
<a href="manual.html">Manual</a>
<a href="news.html">News</a></p></nav>
<div class="frontmatter">
<div class="title"><h1>Help pages</h1></div>
</div>
<div class="body">
<div id="TOC">
<ul>
<li><a href="#sec:man-boundaries">Access the bounding dates of a grates object</a></li>
<li><a href="#sec:man-epiweek_class">Epiweek class</a></li>
<li><a href="#sec:man-grapes-during-grapes">Is a date covered by a grouped date</a></li>
<li><a href="#sec:man-grouped_date_accessors">Accessors for grate objects</a></li>
<li><a href="#sec:man-int_period_class">Integer-period class (Experimental)</a></li>
<li><a href="#sec:man-isoweek_class">ISO Week class</a></li>
<li><a href="#sec:man-month_class">Month class</a></li>
<li><a href="#sec:man-period_class">Period class</a></li>
<li><a href="#sec:man-print.grates_month">Format and print a month object</a></li>
<li><a href="#sec:man-print.grates_period">Print a period object</a></li>
<li><a href="#sec:man-print.grates_yearmonth">Format and print a yearmonth object</a></li>
<li><a href="#sec:man-scale_x_grates_epiweek">Epiweek scale</a></li>
<li><a href="#sec:man-scale_x_grates_int_period">Integer-period scale (Experimental)</a></li>
<li><a href="#sec:man-scale_x_grates_isoweek">Isoweek scale</a></li>
<li><a href="#sec:man-scale_x_grates_month">Month scale</a></li>
<li><a href="#sec:man-scale_x_grates_period">Period scale</a></li>
<li><a href="#sec:man-scale_x_grates_year">Year scale</a></li>
<li><a href="#sec:man-scale_x_grates_yearmonth">Yearmonth scale</a></li>
<li><a href="#sec:man-scale_x_grates_yearquarter">Yearquarter scale</a></li>
<li><a href="#sec:man-scale_x_grates_yearweek">Yearweek scale</a></li>
<li><a href="#sec:man-year_class">Year class</a></li>
<li><a href="#sec:man-yearmonth_class">Yearmonth class</a></li>
<li><a href="#sec:man-yearquarter_class">Yearquarter class</a></li>
<li><a href="#sec:man-yearweek_class">Yearweek class</a></li>
</ul>
</div>
<style type="text/css">
h2 {
  text-align: center;
  margin-top: 2em;
}
</style>
<p>
<b>-- <kbd>A</kbd> --</b>
<a href="#sec:man-epiweek_class"><code>as_epiweek()</code></a>
<a href="#sec:man-epiweek_class"><code>as_epiweek.default()</code></a>
<a href="#sec:man-epiweek_class"><code>as_epiweek.Date()</code></a>
<a href="#sec:man-epiweek_class"><code>as_epiweek.POSIXt()</code></a>
<a href="#sec:man-epiweek_class"><code>as_epiweek.character()</code></a>
<a href="#sec:man-epiweek_class"><code>as_epiweek.factor()</code></a>
<a href="#sec:man-int_period_class"><code>as_int_period.default()</code></a>
<a href="#sec:man-int_period_class"><code>as_int_period.integer()</code></a>
<a href="#sec:man-int_period_class"><code>as_int_period.double()</code></a>
<a href="#sec:man-int_period_class"><code>as_int_period()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek.default()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek.Date()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek.POSIXt()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek.character()</code></a>
<a href="#sec:man-isoweek_class"><code>as_isoweek.factor()</code></a>
<a href="#sec:man-month_class"><code>as_month()</code></a>
<a href="#sec:man-month_class"><code>as_month.default()</code></a>
<a href="#sec:man-month_class"><code>as_month.Date()</code></a>
<a href="#sec:man-month_class"><code>as_month.POSIXt()</code></a>
<a href="#sec:man-month_class"><code>as_month.character()</code></a>
<a href="#sec:man-month_class"><code>as_month.factor()</code></a>
<a href="#sec:man-period_class"><code>as_period()</code></a>
<a href="#sec:man-period_class"><code>as_period.default()</code></a>
<a href="#sec:man-period_class"><code>as_period.Date()</code></a>
<a href="#sec:man-period_class"><code>as_period.POSIXt()</code></a>
<a href="#sec:man-period_class"><code>as_period.character()</code></a>
<a href="#sec:man-period_class"><code>as_period.factor()</code></a>
<a href="#sec:man-year_class"><code>as_year()</code></a>
<a href="#sec:man-year_class"><code>as_year.default()</code></a>
<a href="#sec:man-year_class"><code>as_year.Date()</code></a>
<a href="#sec:man-year_class"><code>as_year.POSIXt()</code></a>
<a href="#sec:man-year_class"><code>as_year.character()</code></a>
<a href="#sec:man-year_class"><code>as_year.factor()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth.default()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth.Date()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth.POSIXt()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth.character()</code></a>
<a href="#sec:man-yearmonth_class"><code>as_yearmonth.factor()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter.default()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter.Date()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter.POSIXt()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter.character()</code></a>
<a href="#sec:man-yearquarter_class"><code>as_yearquarter.factor()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek.default()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek.Date()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek.POSIXt()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek.character()</code></a>
<a href="#sec:man-yearweek_class"><code>as_yearweek.factor()</code></a>
</p>
<p>
<b>-- <kbd>B</kbd> --</b>
<a href="#sec:man-boundaries"><code>boundaries</code></a>
</p>
<p>
<b>-- <kbd>D</kbd> --</b>
<a href="#sec:man-boundaries"><code>date_start()</code></a>
<a href="#sec:man-boundaries"><code>date_end()</code></a>
</p>
<p>
<b>-- <kbd>E</kbd> --</b>
<a href="#sec:man-epiweek_class"><code>epiweek_class</code></a>
<a href="#sec:man-epiweek_class"><code>epiweek()</code></a>
</p>
<p>
<b>-- <kbd>F</kbd> --</b>
<a href="#sec:man-print.grates_month"><code>format.grates_month()</code></a>
<a href="#sec:man-print.grates_period"><code>format.grates_period()</code></a>
<a href="#sec:man-print.grates_yearmonth"><code>format.grates_yearmonth()</code></a>
</p>
<p>
<b>-- <kbd>G</kbd> --</b>
<a href="#sec:man-grouped_date_accessors"><code>grouped_date_accessors</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.default()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_monday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_tuesday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_wednesday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_thursday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_friday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_saturday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_firstday.grates_yearweek_sunday()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_week()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_week.default()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_week.grates_yearweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_week.grates_epiweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_week.grates_isoweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.default()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_yearweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_epiweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_isoweek()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_yearmonth()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_yearquarter()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_year.grates_year()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_n()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_n.default()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_n.grates_month()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_n.grates_period()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_n.grates_int_period()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_offset()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_offset.default()</code></a>
<a href="#sec:man-grouped_date_accessors"><code>get_offset.grates_period()</code></a>
</p>
<p>
<b>-- <kbd>I</kbd> --</b>
<a href="#sec:man-epiweek_class"><code>is_epiweek()</code></a>
<a href="#sec:man-int_period_class"><code>int_period_class</code></a>
<a href="#sec:man-int_period_class"><code>is_int_period()</code></a>
<a href="#sec:man-isoweek_class"><code>isoweek_class</code></a>
<a href="#sec:man-isoweek_class"><code>isoweek()</code></a>
<a href="#sec:man-isoweek_class"><code>is_isoweek()</code></a>
<a href="#sec:man-month_class"><code>is_month()</code></a>
<a href="#sec:man-period_class"><code>is_period()</code></a>
<a href="#sec:man-year_class"><code>is_year()</code></a>
<a href="#sec:man-yearmonth_class"><code>is_yearmonth()</code></a>
<a href="#sec:man-yearquarter_class"><code>is_yearquarter()</code></a>
<a href="#sec:man-yearweek_class"><code>is_yearweek()</code></a>
</p>
<p>
<b>-- <kbd>M</kbd> --</b>
<a href="#sec:man-month_class"><code>month_class</code></a>
</p>
<p>
<b>-- <kbd>N</kbd> --</b>
<a href="#sec:man-epiweek_class"><code>new_epiweek()</code></a>
<a href="#sec:man-int_period_class"><code>new_int_period()</code></a>
<a href="#sec:man-isoweek_class"><code>new_isoweek()</code></a>
<a href="#sec:man-month_class"><code>new_month()</code></a>
<a href="#sec:man-period_class"><code>new_period()</code></a>
<a href="#sec:man-yearmonth_class"><code>new_yearmonth()</code></a>
<a href="#sec:man-yearquarter_class"><code>new_yearquarter()</code></a>
<a href="#sec:man-yearweek_class"><code>new_yearweek()</code></a>
</p>
<p>
<b>-- <kbd>P</kbd> --</b>
<a href="#sec:man-period_class"><code>period_class</code></a>
<a href="#sec:man-print.grates_month"><code>print.grates_month()</code></a>
<a href="#sec:man-print.grates_period"><code>print.grates_period()</code></a>
<a href="#sec:man-print.grates_yearmonth"><code>print.grates_yearmonth()</code></a>
</p>
<p>
<b>-- <kbd>S</kbd> --</b>
<a href="#sec:man-scale_x_grates_epiweek"><code>scale_x_grates_epiweek()</code></a>
<a href="#sec:man-scale_x_grates_int_period"><code>scale_x_grates_int_period()</code></a>
<a href="#sec:man-scale_x_grates_isoweek"><code>scale_x_grates_isoweek()</code></a>
<a href="#sec:man-scale_x_grates_month"><code>scale_x_grates_month()</code></a>
<a href="#sec:man-scale_x_grates_period"><code>scale_x_grates_period()</code></a>
<a href="#sec:man-scale_x_grates_year"><code>scale_x_grates_year()</code></a>
<a href="#sec:man-scale_x_grates_yearmonth"><code>scale_x_grates_yearmonth()</code></a>
<a href="#sec:man-scale_x_grates_yearquarter"><code>scale_x_grates_yearquarter()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_monday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_isoweek()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_tuesday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_wednesday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_thursday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_friday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_saturday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_sunday()</code></a>
<a href="#sec:man-scale_x_grates_yearweek"><code>scale_x_grates_yearweek_epiweek()</code></a>
</p>
<p>
<b>-- <kbd>Y</kbd> --</b>
<a href="#sec:man-year_class"><code>year_class</code></a>
<a href="#sec:man-year_class"><code>year()</code></a>
<a href="#sec:man-yearmonth_class"><code>yearmonth_class</code></a>
<a href="#sec:man-yearmonth_class"><code>yearmonth()</code></a>
<a href="#sec:man-yearquarter_class"><code>yearquarter_class</code></a>
<a href="#sec:man-yearquarter_class"><code>yearquarter()</code></a>
<a href="#sec:man-yearweek_class"><code>yearweek_class</code></a>
<a href="#sec:man-yearweek_class"><code>yearweek()</code></a>
</p>
<p>
<b>-- <kbd>misc</kbd> --</b>
<a href="#sec:man-grapes-during-grapes"><code>%during%()</code></a>
</p>
<h2 id="sec:man-boundaries">Access the bounding dates of a grates object</h2>
<h3 id="sec:description_1" class="unnumbered unlisted">Description</h3>
<p>Utility functions for accessing the boundary dates for each element of
a grates object.
</p>
<h3 id="sec:usage_1" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">date_start(x)

date_end(x)</code></pre>
<h3 id="sec:arguments_1" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code></td>
<td>
<p>grouped date vector.</p>
</td></tr>
</table>
<h3 id="sec:value_1" class="unnumbered unlisted">Value</h3>
<p>The requested start and end dates for each element in the input.
</p>
<h3 id="sec:examples_1" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r">dates &lt;- as.Date(&quot;2020-01-01&quot;) + 1:9
week &lt;- as_isoweek(dates)
date_start(week)
</code></pre>
<pre><code>#&gt; [1] &quot;2019-12-30&quot; &quot;2019-12-30&quot; &quot;2019-12-30&quot; &quot;2019-12-30&quot; &quot;2020-01-06&quot;
#&gt; [6] &quot;2020-01-06&quot; &quot;2020-01-06&quot; &quot;2020-01-06&quot; &quot;2020-01-06&quot;
</code></pre>
<pre><code class="language-r">date_end(week)
</code></pre>
<pre><code>#&gt; [1] &quot;2020-01-05&quot; &quot;2020-01-05&quot; &quot;2020-01-05&quot; &quot;2020-01-05&quot; &quot;2020-01-12&quot;
#&gt; [6] &quot;2020-01-12&quot; &quot;2020-01-12&quot; &quot;2020-01-12&quot; &quot;2020-01-12&quot;
</code></pre>
<pre><code class="language-r">period &lt;- as_period(dates, n = 3)
date_start(period)
</code></pre>
<pre><code>#&gt; [1] &quot;2019-12-31&quot; &quot;2020-01-03&quot; &quot;2020-01-03&quot; &quot;2020-01-03&quot; &quot;2020-01-06&quot;
#&gt; [6] &quot;2020-01-06&quot; &quot;2020-01-06&quot; &quot;2020-01-09&quot; &quot;2020-01-09&quot;
</code></pre>
<pre><code class="language-r">date_end(period)
</code></pre>
<pre><code>#&gt; [1] &quot;2020-01-02&quot; &quot;2020-01-05&quot; &quot;2020-01-05&quot; &quot;2020-01-05&quot; &quot;2020-01-08&quot;
#&gt; [6] &quot;2020-01-08&quot; &quot;2020-01-08&quot; &quot;2020-01-11&quot; &quot;2020-01-11&quot;
</code></pre>
<h2 id="sec:man-epiweek_class">Epiweek class</h2>
<h3 id="sec:description_2" class="unnumbered unlisted">Description</h3>
<p>Epiweeks are defined to start on a Sunday and span a 7 day period.
Where they span calendar years, they are associated to the year which
contains the majority of the week's days (i.e. the first epiweek a year
is the one with at least four days in said year).
</p>
<p>Internally, <code>&lt;grates_epiweek&gt;</code> objects are stored as the number of weeks
(starting at 0) from the first Sunday after the Unix Epoch (1970-01-01).
That is, the number of seven day periods from 1970-01-04.
</p>
<h3 id="sec:usage_2" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">epiweek(year = integer(), week = integer())

as_epiweek(x, ...)

## Default S3 method:
as_epiweek(x, ...)

## S3 method for class 'Date'
as_epiweek(x, ...)

## S3 method for class 'POSIXt'
as_epiweek(x, ...)

## S3 method for class 'character'
as_epiweek(x, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"), ...)

## S3 method for class 'factor'
as_epiweek(x, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"), ...)

new_epiweek(x = integer())

is_epiweek(xx)</code></pre>
<h3 id="sec:arguments_2" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>year</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the year associated with <code>week</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>week</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the week associated with 'year.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Other values passed to as.Date().</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Passed to as.Date() unless <code>format = "yearweek"</code> in which case input is
assumed to be in the form &quot;YYYY-Wxx&quot;.
</p>
<p>If not specified, it will try tryFormats one by one on the first non-NA
element, and give an error if none works. Otherwise, the processing is via
<code>strptime()</code> whose help page describes available conversion specifications.</p>
</td></tr>
<tr><td><code>tryFormats</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Format strings to try if format is not specified.</p>
</td></tr>
</table>
<h3 id="sec:details_1" class="unnumbered unlisted">Details</h3>
<p><code>epiweek()</code> is a constructor for <code>&lt;grates_epiweek&gt;</code> objects. It takes a
vector of year and vector of week values as inputs. Length 1 inputs will be
recycled to the length of the other input and <code>double</code> vectors will again be
converted to integer via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_epiweek()</code> is a generic for conversion to <code>&lt;grates_epiweek&gt;</code>.
</p>
<ul>
<li><p> Date, POSIXct, and POSIXlt are converted with the timezone respected.
</p>
</li>
<li><p> Character objects are first coerced to date via <code>as.Date()</code> unless
<code>format = "yearweek"</code> in which case input is assumed to be in the form
&quot;YYYY-Wxx&quot; and parsed accordingly.
</p>
</li></ul>
<p><code>new_epiweek()</code> is a minimal constructor for <code>&lt;grates_epiweek&gt;</code> objects
aimed at developers. It takes, as input, the number of epiweeks since the
sunday after the Unix Epoch that you wish to represent. <code>double</code> vectors will
be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_2" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_epiweek&gt;</code> object.
</p>
<h3 id="sec:see-also_1" class="unnumbered unlisted">See Also</h3>
<p>The <a href="#sec:man-yearweek-class">yearweek</a> and <a href="#sec:man-isoweek-class">isoweek</a> classes.
</p>
<h3 id="sec:examples_2" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_epiweek(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2025-W11&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_epiweek(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2019-W10&quot;
</code></pre>
<pre><code class="language-r"># character coercion assumes date input by default
as_epiweek(&quot;2019-05-03&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2019-W18&quot;
</code></pre>
<pre><code class="language-r"># character coercion can handle YYYY-Www format too
as_epiweek(&quot;2019-W12&quot;, format = &quot;yearweek&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2019-W12&quot;
</code></pre>
<pre><code class="language-r"># construction
epiweek(year = 2000, week = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_epiweek[1]&gt;
#&gt; [1] &quot;2000-W03&quot;
</code></pre>
<pre><code class="language-r"># direct construction
stopifnot(
    identical(
        new_epiweek(0:1),
        as_epiweek(&quot;1970-01-04&quot;) + 0:1
    )
)
</code></pre>
<h2 id="sec:man-grapes-during-grapes">Is a date covered by a grouped date</h2>
<h3 id="sec:description_3" class="unnumbered unlisted">Description</h3>
<p><code>%during%</code> determines whether a supplied date is within the period covered
by each element of a grates object.
</p>
<h3 id="sec:usage_3" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">date %during% x</code></pre>
<h3 id="sec:arguments_3" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>date</code></td>
<td>
<p>A scalar <code>&lt;date&gt;</code> object.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>grouped date vector.</p>
</td></tr>
</table>
<h3 id="sec:value_3" class="unnumbered unlisted">Value</h3>
<p>A logical vector indicating whether the date was present within the range of
the tested object.
</p>
<h3 id="sec:examples_3" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r">dates &lt;- as.Date(&quot;2020-01-01&quot;) + 1:10
week &lt;- as_isoweek(dates)
dates[1] %during% week
</code></pre>
<pre><code>#&gt;  [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
</code></pre>
<pre><code class="language-r">period &lt;- as_period(dates, n = 3)
dates[10] %during% period
</code></pre>
<pre><code>#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE
</code></pre>
<h2 id="sec:man-grouped_date_accessors">Accessors for grate objects</h2>
<h3 id="sec:description_4" class="unnumbered unlisted">Description</h3>
<p>Generics and methods for accessing information about grouped date objects.
</p>
<h3 id="sec:usage_4" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">get_firstday(x, ...)

## Default S3 method:
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_monday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_tuesday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_wednesday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_thursday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_friday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_saturday'
get_firstday(x, ...)

## S3 method for class 'grates_yearweek_sunday'
get_firstday(x, ...)

get_week(x, ...)

## Default S3 method:
get_week(x, ...)

## S3 method for class 'grates_yearweek'
get_week(x, ...)

## S3 method for class 'grates_epiweek'
get_week(x, ...)

## S3 method for class 'grates_isoweek'
get_week(x, ...)

get_year(x, ...)

## Default S3 method:
get_year(x, ...)

## S3 method for class 'grates_yearweek'
get_year(x, ...)

## S3 method for class 'grates_epiweek'
get_year(x, ...)

## S3 method for class 'grates_isoweek'
get_year(x, ...)

## S3 method for class 'grates_yearmonth'
get_year(x, ...)

## S3 method for class 'grates_yearquarter'
get_year(x, ...)

## S3 method for class 'grates_year'
get_year(x, ...)

get_n(x, ...)

## Default S3 method:
get_n(x, ...)

## S3 method for class 'grates_month'
get_n(x, ...)

## S3 method for class 'grates_period'
get_n(x, ...)

## S3 method for class 'grates_int_period'
get_n(x, ...)

get_offset(x, ...)

## Default S3 method:
get_offset(x, ...)

## S3 method for class 'grates_period'
get_offset(x, ...)</code></pre>
<h3 id="sec:arguments_4" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code></td>
<td>
<p><span class="rlang"><b>R</b></span> object</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Not currently used</p>
</td></tr>
</table>
<h3 id="sec:value_4" class="unnumbered unlisted">Value</h3>
<p>Requested value or an error if no method available.
</p>
<h3 id="sec:examples_4" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r">dates &lt;- as.Date(&quot;2020-01-01&quot;) + 1:14
dat &lt;- as_isoweek(dates)
get_week(dat)
</code></pre>
<pre><code>#&gt;  [1] 1 1 1 1 2 2 2 2 2 2 2 3 3 3
</code></pre>
<pre><code class="language-r">get_year(dat)
</code></pre>
<pre><code>#&gt;  [1] 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020
</code></pre>
<h2 id="sec:man-int_period_class">Integer-period class (Experimental)</h2>
<h3 id="sec:description_5" class="unnumbered unlisted">Description</h3>
<p><code>&lt;grates_int_period&gt;</code> objects represent groupings of <code>n</code> consecutive integers
from <code>0</code>.
</p>
<h3 id="sec:usage_5" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">## Default S3 method:
as_int_period(x, n = 1L, ...)

## S3 method for class 'integer'
as_int_period(x, n = 1L, ...)

## S3 method for class 'double'
as_int_period(x, n = 1L, ...)

new_int_period(x = integer(), n = 1L)

is_int_period(xx)

as_int_period(x, n, ...)</code></pre>
<h3 id="sec:arguments_5" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.
</p>
<p>For <code>as_int_period()</code> this is the object to be coerced.
</p>
<p>For <code>new_int_period()</code> this represents the number of <code>n</code> integer periods from 0.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of integers that are being grouped. Must be greater than 0.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>
<h3 id="sec:details_2" class="unnumbered unlisted">Details</h3>
<p><code>as_int_period()</code> is a generic for coercing input in to <code>&lt;grates_int_period&gt;</code>
objects. For numeric input it coerces it's input <code>x</code> first via
<code>x &lt;- as.integer(floor(x))</code> and then via integer division by <code>n</code> (i.e.
<code>x %/% n</code>).
</p>
<p><code>new_int_period()</code> is a minimal constructor for <code>&lt;grates_period&gt;</code>
objects aimed at developers. It takes, as input, the number of integer
periods and the value of <code>n</code>.
</p>
<h3 id="sec:value_5" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_int_period&gt;</code> object.
</p>
<h3 id="sec:examples_5" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># coercion
as_int_period(1:10, n = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_int_period[10]&gt;
#&gt;  [1] [0, 2]  [0, 2]  [3, 5]  [3, 5]  [3, 5]  [6, 8]  [6, 8]  [6, 8]  [9, 11]
#&gt; [10] [9, 11]
</code></pre>
<pre><code class="language-r"># direct construction
stopifnot(
    identical(
        as_int_period(1:10, n = 3),
        new_int_period(c(0, 0, 1, 1, 1, 2, 2, 2, 3, 3), n = 3)
    )
)
</code></pre>
<h2 id="sec:man-isoweek_class">ISO Week class</h2>
<h3 id="sec:description_6" class="unnumbered unlisted">Description</h3>
<p><code>&lt;grates_isoweek&gt;</code> objects are used to represent ISO week dates as defined in
<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. To expand further, it is
easiest to quote from the related
<a href="https://en.wikipedia.org/w/index.php?title=ISO_week_date&amp;oldid=1269568343">wikipedia entry</a>:
</p>
<p><em>&quot;ISO weeks start with Monday and end on Sunday. Each week's year is the
Gregorian year in which the Thursday falls. The first week of the year, hence,
always contains 4 January. ISO week year numbering therefore usually
deviates by 1 from the Gregorian for some days close to 1 January.&quot;</em>
</p>
<p>Internally, <code>&lt;grates_isoweek&gt;</code> objects are stored as the number of weeks
(starting at 0) from the first Monday prior to the Unix Epoch (1970-01-01).
That is, the number of seven day periods from 1969-12-29.
</p>
<h3 id="sec:usage_6" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">isoweek(year = integer(), week = integer())

as_isoweek(x, ...)

## Default S3 method:
as_isoweek(x, ...)

## S3 method for class 'Date'
as_isoweek(x, ...)

## S3 method for class 'POSIXt'
as_isoweek(x, ...)

## S3 method for class 'character'
as_isoweek(x, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"), ...)

## S3 method for class 'factor'
as_isoweek(x, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"), ...)

new_isoweek(x = integer())

is_isoweek(xx)</code></pre>
<h3 id="sec:arguments_6" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>year</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the year associated with <code>week</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>week</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the week associated with 'year.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Other values passed to as.Date().</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Passed to as.Date() unless <code>format = "yearweek"</code> in which case input is
assumed to be in the form &quot;YYYY-Wxx&quot;.
</p>
<p>If not specified, it will try tryFormats one by one on the first non-NA
element, and give an error if none works. Otherwise, the processing is via
<code>strptime()</code> whose help page describes available conversion specifications.</p>
</td></tr>
<tr><td><code>tryFormats</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Format strings to try if format is not specified.</p>
</td></tr>
</table>
<h3 id="sec:details_3" class="unnumbered unlisted">Details</h3>
<p><code>isoweek()</code> is a constructor for <code>&lt;grates_isoweek&gt;</code> objects. It takes a
vector of year and vector of week values as inputs. Length 1 inputs will be
recycled to the length of the other input and <code>double</code> vectors will again be
converted to integer via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_isoweek()</code> is a generic for conversion to <code>&lt;grates_isoweek&gt;</code>.
</p>
<ul>
<li><p> Date, POSIXct, and POSIXlt are converted with the timezone respected.
</p>
</li>
<li><p> Character objects are first coerced to date via <code>as.Date()</code> unless
<code>format = "yearweek"</code> in which case input is assumed to be in the form
&quot;YYYY-Wxx&quot; and parsed accordingly.
</p>
</li></ul>
<p><code>new_isoweek()</code> is a minimal constructor for <code>&lt;grates_isoweek&gt;</code> objects
aimed at developers. It takes, as input, the number of isoweeks since the
Monday prior to the Unix Epoch that you wish to represent. <code>double</code> vectors
will be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_6" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_isoweek&gt;</code> object.
</p>
<h3 id="sec:references_1" class="unnumbered unlisted">References</h3>
<p>Wikipedia contributors. (2025, January 15). ISO week date.
In Wikipedia, The Free Encyclopedia.
Retrieved 09:19, March 6, 2025, from https://en.wikipedia.org/w/index.php?title=ISO_week_date&amp;oldid=1269568343
</p>
<h3 id="sec:see-also_2" class="unnumbered unlisted">See Also</h3>
<p>The <a href="#sec:man-yearweek-class">yearweek</a> and <a href="#sec:man-epiweek-class">epiweek</a> classes.
</p>
<h3 id="sec:examples_6" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_isoweek(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2025-W11&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_isoweek(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2019-W10&quot;
</code></pre>
<pre><code class="language-r"># character coercion assumes date input by default
as_isoweek(&quot;2019-05-03&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2019-W18&quot;
</code></pre>
<pre><code class="language-r"># character coercion can handle YYYY-Www format too
as_isoweek(&quot;2019-W12&quot;, format = &quot;yearweek&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2019-W12&quot;
</code></pre>
<pre><code class="language-r"># construction
isoweek(year = 2000, week = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_isoweek[1]&gt;
#&gt; [1] &quot;2000-W03&quot;
</code></pre>
<pre><code class="language-r"># direct construction
stopifnot(
    identical(
        new_isoweek(0:1),
        as_isoweek(&quot;1969-12-29&quot;) + 0:1
    )
)
</code></pre>
<h2 id="sec:man-month_class">Month class</h2>
<h3 id="sec:description_7" class="unnumbered unlisted">Description</h3>
<p>Month objects are groupings of 'n consecutive months' stored relative to the
Unix Epoch. More precisely, <code>grates_month</code> objects are stored as the integer
number (starting at 0), of n-month groups since the Unix Epoch (1970-01-01).
</p>
<h3 id="sec:usage_7" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">as_month(x, n, ...)

## Default S3 method:
as_month(x, n, ...)

## S3 method for class 'Date'
as_month(x, n, ...)

## S3 method for class 'POSIXt'
as_month(x, n, ...)

## S3 method for class 'character'
as_month(x, n, ...)

## S3 method for class 'factor'
as_month(x, n, ...)

new_month(x = integer(), n)

is_month(xx)</code></pre>
<h3 id="sec:arguments_7" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of months that are being grouped. Must be greater than 1 (use
<code>as_yearmonth()</code> for this case).</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Only used For character input where additional arguments are passed through
to <code>as.Date()</code>.</p>
</td></tr>
</table>
<h3 id="sec:details_4" class="unnumbered unlisted">Details</h3>
<p><code>as_month()</code> is a generic for conversion to <code>&lt;grates_month&gt;</code>.
</p>
<ul>
<li><p> Character input is first parsed using <code>as.Date()</code>.
</p>
</li>
<li><p> POSIXt inputs are converted with the timezone respected.
</p>
</li>
<li><p> Precision is only to the month level (i.e. the day of the month is always
dropped).
</p>
</li></ul>
<p><code>new_month()</code> is a minimal constructor for <code>&lt;grates_month&gt;</code> objects
aimed at developers. It takes, as input <code>x</code>, the number of n-months since
the Unix Epoch (1970-01-01) and the related value of <code>n</code>.
<code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_7" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_month&gt;</code> object.
</p>
<h3 id="sec:references_2" class="unnumbered unlisted">References</h3>
<p>The algorithm to convert between dates and months relative to the UNIX Epoch
comes from the work of Davis Vaughan in the unreleased
<a href="https://github.com/DavisVaughan/datea/">datea</a> package.
</p>
<h3 id="sec:see-also_3" class="unnumbered unlisted">See Also</h3>
<p>The <a href="#sec:man-yearmonth-class">yearmonth</a> class.
</p>
<h3 id="sec:examples_7" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_month(Sys.Date(), n = 2)
</code></pre>
<pre><code>#&gt; &lt;grates_month[1]&gt;
#&gt; [1] &quot;2025-Mar to 2025-Apr&quot;
</code></pre>
<pre><code class="language-r"># character coercion
as_month(&quot;2019-05-03&quot;, n = 4)
</code></pre>
<pre><code>#&gt; &lt;grates_month[1]&gt;
#&gt; [1] &quot;2019-May to 2019-Aug&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_month(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;), n = 2)
</code></pre>
<pre><code>#&gt; &lt;grates_month[1]&gt;
#&gt; [1] &quot;2019-Mar to 2019-Apr&quot;
</code></pre>
<pre><code class="language-r"># direct construction
d &lt;- seq.Date(from = as.Date(&quot;1970-03-01&quot;), by = &quot;2 month&quot;, length.out = 10)
stopifnot(
    identical(
        as_month(d, n = 2),
        new_month(1:10, 2)
    )
)
</code></pre>
<h2 id="sec:man-period_class">Period class</h2>
<h3 id="sec:description_8" class="unnumbered unlisted">Description</h3>
<p><code>&lt;grates_period&gt;</code> objects represent groupings of <code>n</code> consecutive days
calculated relative to an <code>offset</code>. It is useful for when you wish to group
an arbitrary number of dates together (e.g. 10 days).
</p>
<h3 id="sec:usage_8" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">as_period(x, n, ...)

## Default S3 method:
as_period(x, n = 1L, offset = 0L, ...)

## S3 method for class 'Date'
as_period(x, n = 1L, offset = 0L, ...)

## S3 method for class 'POSIXt'
as_period(x, n = 1L, offset = 0L, ...)

## S3 method for class 'character'
as_period(x, n = 1L, offset = 0L, ...)

## S3 method for class 'factor'
as_period(x, n = 1L, offset = 0L, ...)

new_period(x = integer(), n = 1L, offset = 0L)

is_period(xx)</code></pre>
<h3 id="sec:arguments_8" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.
</p>
<p>For <code>as_period()</code> this is the object to be coerced.
</p>
<p>For <code>new_period()</code> this represents the number of periods since the Unix
Epoch (1970-01-01) and a specified offset.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of days that are being grouped.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Only used for character input where additional arguments are passed through
to <code>as.Date()</code>.</p>
</td></tr>
<tr><td><code>offset</code></td>
<td>
<p><code>[integer]</code> or, for <code>as_period()</code>, a <code>[date]</code>.
</p>
<p>Value you wish to start counting periods from relative to the Unix Epoch:
</p>
<ul>
<li><p> For integer values this is stored scaled by <code>n</code>
(<code>offset &lt;- as.integer(offset) %% n</code>).
</p>
</li>
<li><p> For date values this is first converted to an integer offset
(<code>offset &lt;- floor(as.numeric(offset))</code>) and then scaled via <code>n</code> as above.
</p>
</li></ul>
</td></tr>
</table>
<h3 id="sec:details_5" class="unnumbered unlisted">Details</h3>
<p>Internally <code>grates_period</code> objects are stored as the integer number, starting
at 0, of  periods since the Unix Epoch (1970-01-01) and a specified offset. Here
periods are taken to mean groupings of <code>n</code> consecutive days. For storage and
calculation purposes, <code>offset</code> is scaled relative to <code>n</code>
(i.e. <code>offset &lt;- offset %% n</code>) and values of <code>x</code> stored relative to this
scaled offset.
</p>
<p><code>as_period()</code> is a generic for coercing input in to <code>&lt;grates_period&gt;</code> objects.
It is the recommended way for constructing period objects as it allows the
<code>offset</code> to be specified as a <code>date</code> (rather than an integer value relative to
the Unix Epoch).
</p>
<ul>
<li><p> Character input is first parsed using <code>as.Date()</code>.
</p>
</li>
<li><p> POSIXct and POSIXlt are converted with their timezone respected.
</p>
</li></ul>
<p><code>new_period()</code> is a minimal constructor for <code>&lt;grates_period&gt;</code>
objects aimed at developers. It takes, as input, the number of periods since
the Unix Epoch and the specified <code>offset</code>. <code>double</code> vectors will
be converted via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_8" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_period&gt;</code> object.
</p>
<h3 id="sec:examples_8" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># coercion from date
dat &lt;- as.Date(&quot;2012-12-01&quot;)
as_period(dat + 0:3, n = 2, offset = dat)
</code></pre>
<pre><code>#&gt; &lt;grates_period[4]&gt;
#&gt; [1] &quot;2012-12-01 to 2012-12-02&quot; &quot;2012-12-01 to 2012-12-02&quot;
#&gt; [3] &quot;2012-12-03 to 2012-12-04&quot; &quot;2012-12-03 to 2012-12-04&quot;
</code></pre>
<pre><code class="language-r"># direct construction
new_period(1:10)
</code></pre>
<pre><code>#&gt; &lt;grates_period[10]&gt;
#&gt;  [1] &quot;1970-01-02&quot; &quot;1970-01-03&quot; &quot;1970-01-04&quot; &quot;1970-01-05&quot; &quot;1970-01-06&quot;
#&gt;  [6] &quot;1970-01-07&quot; &quot;1970-01-08&quot; &quot;1970-01-09&quot; &quot;1970-01-10&quot; &quot;1970-01-11&quot;
</code></pre>
<h2 id="sec:man-print.grates_month">Format and print a month object</h2>
<h3 id="sec:description_9" class="unnumbered unlisted">Description</h3>
<p>Format and print a month object
</p>
<h3 id="sec:usage_9" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">## S3 method for class 'grates_month'
print(x, format = "%Y-%b", sep = "to", ...)

## S3 method for class 'grates_month'
format(x, format = "%Y-%b", sep = "to", ...)</code></pre>
<h3 id="sec:arguments_9" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code></td>
<td>
<p>A <code>&lt;grates_month&gt;</code> object.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>The format to use for the bounds of each value.</p>
</td></tr>
<tr><td><code>sep</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Where more than one month is grouped with others, <code>sep</code> is placed between the
upper and lower bounds when printing.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>
<h3 id="sec:value_9" class="unnumbered unlisted">Value</h3>
<p>For <code>format()</code>, a character vector representing the formatted input.
<code>print()</code> is called for the side effect of printing to screen and thus
returns the input <code>&lt;grates_month&gt;</code> object invisibly.
</p>
<h2 id="sec:man-print.grates_period">Print a period object</h2>
<h3 id="sec:description_10" class="unnumbered unlisted">Description</h3>
<p>Print a period object
</p>
<h3 id="sec:usage_10" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">## S3 method for class 'grates_period'
print(x, format = "%Y-%m-%d", sep = "to", ...)

## S3 method for class 'grates_period'
format(x, format = "%Y-%m-%d", sep = "to", ...)</code></pre>
<h3 id="sec:arguments_10" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code></td>
<td>
<p>A <code>&lt;grates_period&gt;</code> object.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>The format to use for the bounds of each value.</p>
</td></tr>
<tr><td><code>sep</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Where more than one day is grouped with others, <code>sep</code> is placed between the
upper and lower bounds when printing.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>
<h2 id="sec:man-print.grates_yearmonth">Format and print a yearmonth object</h2>
<h3 id="sec:description_11" class="unnumbered unlisted">Description</h3>
<p>Format and print a yearmonth object
</p>
<h3 id="sec:usage_11" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">## S3 method for class 'grates_yearmonth'
print(x, format = "%Y-%b", ...)

## S3 method for class 'grates_yearmonth'
format(x, format = "%Y-%b", ...)</code></pre>
<h3 id="sec:arguments_11" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code></td>
<td>
<p>A <code>&lt;grates_yearmonth&gt;</code> object.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>The format to use for printing.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>
<h3 id="sec:value_10" class="unnumbered unlisted">Value</h3>
<p>For <code>format()</code>, a character vector representing the formatted input.
<code>print()</code> is called for the side effect of printing to screen and thus
returns the input <code>&lt;grates_yearmonth&gt;</code> object invisibly.
</p>
<h2 id="sec:man-scale_x_grates_epiweek">Epiweek scale</h2>
<h3 id="sec:description_12" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for an <code>&lt;grates_epiweek&gt;</code> vector.
</p>
<h3 id="sec:usage_12" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_epiweek(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_12" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_epiweek&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If NULL (default) then labels are in the standard epiweek format (YYYY-Www).
</p>
<p>If &quot;week&quot; then the labels are of the form Www (e.g. W37).
</p>
<p>Otherwise the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_11" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_9" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist
x &lt;- as_epiweek(linelist$date_of_infection)
dat &lt;- aggregate(list(cases = x), by = list(week = x), FUN = length)

# plot the output
(week_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(week, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw())
</code></pre>
<p><img src="manual/scale_x_grates_epiweek-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># We can have non-centred date labels on the x_axis by using the
# associated scale function and explicitly specifying a format for
# the date labels:
week_plot + scale_x_grates_epiweek(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<p><img src="manual/scale_x_grates_epiweek-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_int_period">Integer-period scale (Experimental)</h2>
<h3 id="sec:description_13" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for an integer-period vector.
</p>
<h3 id="sec:usage_13" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_int_period(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  centre = FALSE,
  n
)</code></pre>
<h3 id="sec:arguments_13" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_int_period&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>centre</code></td>
<td>
<p>Only applicable to an <code>int_period</code> object with <code>n &gt; 1</code>.
</p>
<p>If FALSE labels are place at the edge of the bounds.
</p>
<p>If TRUE then labels are centralised and of the form <code>[lower, upper]</code></p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number used for the original grouping.</p>
</td></tr>
</table>
<h3 id="sec:value_12" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h2 id="sec:man-scale_x_grates_isoweek">Isoweek scale</h2>
<h3 id="sec:description_14" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for an <code>&lt;grates_isoweek&gt;</code> vector.
</p>
<h3 id="sec:usage_14" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_isoweek(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_14" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_isoweek&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If NULL (default) then labels are in the standard isoweek format (YYYY-Www).
</p>
<p>If &quot;week&quot; then the labels are of the form Www (e.g. W37).
</p>
<p>Otherwise the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_13" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_10" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist
x &lt;- as_isoweek(linelist$date_of_infection)
dat &lt;- aggregate(list(cases = x), by = list(week = x), FUN = length)

# plot the output
(week_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(week, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw())
</code></pre>
<p><img src="manual/scale_x_grates_isoweek-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># We can have non-centred date labels on the x_axis by using the
# associated scale function and explicitly specifying a format for
# the date labels:
week_plot + scale_x_grates_isoweek(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<p><img src="manual/scale_x_grates_isoweek-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_month">Month scale</h2>
<h3 id="sec:description_15" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for a month vector.
</p>
<h3 id="sec:usage_15" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_month(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = "%Y-%m-%d",
  bounds_format = "%Y-%b",
  sep = "to",
  n
)</code></pre>
<h3 id="sec:arguments_15" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_month&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If NULL then labels are centralised and of the form &quot;lower category bound to
upper category bound&quot;.
</p>
<p>If not NULL then the value is used by <code>format.Date()</code> and can be any input
acceptable by that function (defaults to &quot;%Y-%m-%d).</p>
</td></tr>
<tr><td><code>bounds_format</code></td>
<td>
<p>Format to use for grouped date labels. Only used if <code>format</code> is NULL.</p>
</td></tr>
<tr><td><code>sep</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Separator to use for grouped date labels.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of months used for the original grouping.</p>
</td></tr>
</table>
<h3 id="sec:value_14" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_11" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist

# calculate the bimonthly number of cases
x &lt;- as_month(linelist$date_of_infection, n = 2)
(dat &lt;- aggregate(list(cases = x), by = list(group = x), FUN = length))
</code></pre>
<pre><code>#&gt;                  group cases
#&gt; 1 2014-Mar to 2014-Apr     7
#&gt; 2 2014-May to 2014-Jun   137
#&gt; 3 2014-Jul to 2014-Aug   636
#&gt; 4 2014-Sep to 2014-Oct  1532
#&gt; 5 2014-Nov to 2014-Dec   755
#&gt; 6 2015-Jan to 2015-Feb   450
#&gt; 7 2015-Mar to 2015-Apr   225
</code></pre>
<pre><code class="language-r"># by default lower date bounds are used for the x axis
(bimonth_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(group, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw() +
    ggplot2::theme(
        axis.text.x = ggplot2::element_text(
            angle = 45,
            hjust = 1
        )
    ) +
    ggplot2::xlab(&quot;&quot;))
</code></pre>
<p><img src="manual/scale_x_grates_month-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># To obtain centred labels you must explicitly set the format to NULL
# in the scale:
bimonth_plot + scale_x_grates_month(format = NULL, n = 2)
</code></pre>
<p><img src="manual/scale_x_grates_month-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_period">Period scale</h2>
<h3 id="sec:description_16" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for an <code>&lt;grates_period&gt;</code> vector.
</p>
<h3 id="sec:usage_16" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_period(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = "%Y-%m-%d",
  n,
  offset
)</code></pre>
<h3 id="sec:arguments_16" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_period&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use for dates.
</p>
<p>Value is used by <code>format.Date()</code> and can be any input acceptable by that
function.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of days in each period.</p>
</td></tr>
<tr><td><code>offset</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Number of days used in original grouping for the offset from the Unix Epoch.</p>
</td></tr>
</table>
<h3 id="sec:value_15" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_12" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist

# Calculate the total of infections across 14 day periods offset from
# the first date
x &lt;- linelist$date_of_infection
x &lt;- as_period(x, n = 14, offset = min(x, na.rm = TRUE))
dat &lt;- aggregate(list(cases = x), by = list(period = x), FUN = length)
head(dat)
</code></pre>
<pre><code>#&gt;                     period cases
#&gt; 1 2014-03-19 to 2014-04-01     1
#&gt; 2 2014-04-02 to 2014-04-15     1
#&gt; 3 2014-04-16 to 2014-04-29     5
#&gt; 4 2014-04-30 to 2014-05-13    22
#&gt; 5 2014-05-14 to 2014-05-27    28
#&gt; 6 2014-05-28 to 2014-06-10    31
</code></pre>
<pre><code class="language-r">(period_plot &lt;- ggplot2::ggplot(dat, ggplot2::aes(period, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw() +
    ggplot2::theme(
        axis.text.x = ggplot2::element_text(
            angle = 45,
            hjust = 1
        )
    ) +
    ggplot2::xlab(&quot;&quot;))
</code></pre>
<p><img src="manual/scale_x_grates_period-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># To change defaults we must explicitly state the value of n and
# offset when calling the scale function
period_plot + scale_x_grates_period(
    n.breaks = 2,
    n = 14,
    offset = min(x, na.rm = TRUE)
)
</code></pre>
<p><img src="manual/scale_x_grates_period-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_year">Year scale</h2>
<h3 id="sec:description_17" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for year vector.
</p>
<h3 id="sec:usage_17" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_year(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_17" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_isoweek&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If not NULL then the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_16" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_13" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist

# calculate yearly cases by date of infection
x &lt;- as_year(linelist$date_of_infection)
(dat &lt;- aggregate(list(cases = x), by = list(year = x), FUN = length))
</code></pre>
<pre><code>#&gt;   year cases
#&gt; 1 2014  3067
#&gt; 2 2015   675
</code></pre>
<pre><code class="language-r"># by default labels are centred
(year_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(year, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw() +
    ggplot2::xlab(&quot;&quot;))
</code></pre>
<p><img src="manual/scale_x_grates_year-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># To obtain centred labels you must explicitly set a date format
# in the scale:
year_plot + scale_x_grates_year(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<p><img src="manual/scale_x_grates_year-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_yearmonth">Yearmonth scale</h2>
<h3 id="sec:description_18" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for a yearmonth vector.
</p>
<h3 id="sec:usage_18" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_yearmonth(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_18" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_yearmonth&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If not NULL then the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_17" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h2 id="sec:man-scale_x_grates_yearquarter">Yearquarter scale</h2>
<h3 id="sec:description_19" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for a yearquarter vector.
</p>
<h3 id="sec:usage_19" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_yearquarter(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_19" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_yearquarter&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If not NULL then the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_18" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_14" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist

# calculate quarterly cases by date of infection
x &lt;- as_yearquarter(linelist$date_of_infection)
(dat &lt;- aggregate(list(cases = x), by = list(quarter = x), FUN = length))
</code></pre>
<pre><code>#&gt;   quarter cases
#&gt; 1 2014-Q1     1
#&gt; 2 2014-Q2   143
#&gt; 3 2014-Q3  1449
#&gt; 4 2014-Q4  1474
#&gt; 5 2015-Q1   602
#&gt; 6 2015-Q2    73
</code></pre>
<pre><code class="language-r"># by default labels are centred
(quarter_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(quarter, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw() +
    ggplot2::theme(
        axis.text.x = ggplot2::element_text(
            angle = 45,
            hjust = 1
        )
    ) +
    ggplot2::xlab(&quot;&quot;))
</code></pre>
<p><img src="manual/scale_x_grates_yearquarter-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># To obtain centred labels you must explicitly set a date format
# in the scale:
quarter_plot + scale_x_grates_yearquarter(format = &quot;%Y-%m-%d&quot;)
</code></pre>
<p><img src="manual/scale_x_grates_yearquarter-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-scale_x_grates_yearweek">Yearweek scale</h2>
<h3 id="sec:description_20" class="unnumbered unlisted">Description</h3>
<p>ggplot2 scale for an <code>&lt;grates_yearweek&gt;</code> vector.
</p>
<h3 id="sec:usage_20" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">scale_x_grates_yearweek(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6L,
  firstday,
  format = NULL
)

scale_x_grates_yearweek_monday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_isoweek(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_tuesday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_wednesday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_thursday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_friday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_saturday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_sunday(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)

scale_x_grates_yearweek_epiweek(
  ...,
  breaks = ggplot2::waiver(),
  n.breaks = 6,
  format = NULL
)</code></pre>
<h3 id="sec:arguments_20" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
<tr><td><code>breaks</code></td>
<td>
<p>A <code>&lt;grates_yearweek&gt;</code> vector of the desired breaks.</p>
</td></tr>
<tr><td><code>n.breaks</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Approximate number of breaks calculated using <code>scales::breaks_pretty</code>
(default 6L).
</p>
<p>Will only have an effect if <code>breaks = waiver()</code>.</p>
</td></tr>
<tr><td><code>firstday</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Integer value of the first weekday: 1 (Monday) to 7 (Sunday).</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p>Format to use if &quot;Date&quot; scales are required.
</p>
<p>If NULL (default) then labels are in the standard yearweek format (YYYY-Www).
</p>
<p>If &quot;week&quot; then the labels are of the form Www (e.g. W37).
</p>
<p>Otherwise the value is used by <code>format.Date()</code> and can be any input
acceptable by that function.</p>
</td></tr>
</table>
<h3 id="sec:value_19" class="unnumbered unlisted">Value</h3>
<p>A scale for use with ggplot2.
</p>
<h3 id="sec:examples_15" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># use simulated linelist data from the outbreaks package
linelist &lt;- outbreaks::ebola_sim_clean$linelist
x &lt;- as_yearweek(linelist$date_of_infection, firstday = 4)
dat &lt;- aggregate(list(cases = x), by = list(week = x), FUN = length)

# plot the output
(week_plot &lt;-
    ggplot2::ggplot(dat, ggplot2::aes(week, cases)) +
    ggplot2::geom_col(width = 1, colour = &quot;white&quot;) +
    ggplot2::theme_bw())
</code></pre>
<p><img src="manual/scale_x_grates_yearweek-1.png" alt="A plot recorded by xfun::record()" /></p>
<pre><code class="language-r"># We can have non-centred date labels on the x_axis by using the
# associated scale function and explicitly specifying a format for the
# date labels and a value for firstday:
week_plot + scale_x_grates_yearweek(format = &quot;%Y-%m-%d&quot;, firstday = 4)
</code></pre>
<p><img src="manual/scale_x_grates_yearweek-2.png" alt="A plot recorded by xfun::record()" /></p>
<h2 id="sec:man-year_class">Year class</h2>
<h3 id="sec:description_21" class="unnumbered unlisted">Description</h3>
<p>Years are represented by a <code>&lt;grates_year&gt;</code> object.
</p>
<h3 id="sec:usage_21" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">year(x = integer())

as_year(x, ...)

## Default S3 method:
as_year(x, ...)

## S3 method for class 'Date'
as_year(x, ...)

## S3 method for class 'POSIXt'
as_year(x, ...)

## S3 method for class 'character'
as_year(x, ...)

## S3 method for class 'factor'
as_year(x, ...)

is_year(object)</code></pre>
<h3 id="sec:arguments_21" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>x</code>, <code>object</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Only used For character input where additional arguments are passed through
to <code>as.Date()</code>.</p>
</td></tr>
</table>
<h3 id="sec:details_6" class="unnumbered unlisted">Details</h3>
<p><code>year()</code> takes as input a vector representing, unsurprisingly, the years.
<code>double</code> vectors are coerced via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_yearquarter()</code> is a generic for coercing input in to <code>&lt;grates_year&gt;</code>.
</p>
<ul>
<li><p> Character input is first parsed using <code>as.Date()</code>.
</p>
</li>
<li><p> POSIXct and POSIXlt are converted with their timezone respected.
</p>
</li></ul>
<h3 id="sec:value_20" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_year&gt;</code> object.
</p>
<h3 id="sec:examples_16" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_year(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_year[1]&gt;
#&gt; [1] 2025
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_year(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_year[1]&gt;
#&gt; [1] 2019
</code></pre>
<pre><code class="language-r"># Character coercion
as_year(&quot;2019-05-03&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_year[1]&gt;
#&gt; [1] 2019
</code></pre>
<pre><code class="language-r"># direct construction
year(2011:2020)
</code></pre>
<pre><code>#&gt; &lt;grates_year[10]&gt;
#&gt;  [1] 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020
</code></pre>
<h2 id="sec:man-yearmonth_class">Yearmonth class</h2>
<h3 id="sec:description_22" class="unnumbered unlisted">Description</h3>
<p><code>&lt;grates_yearmonth&gt;</code> objects represent, unsurprisingly, years and associated months.
Internally they are stored as the number of months (starting at 0) since the
Unix Epoch (1970-01-01). Precision is only to the month level (i.e. the day
of the month is always dropped).
</p>
<h3 id="sec:usage_22" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">yearmonth(year = integer(), month = integer())

as_yearmonth(x, ...)

## Default S3 method:
as_yearmonth(x, ...)

## S3 method for class 'Date'
as_yearmonth(x, ...)

## S3 method for class 'POSIXt'
as_yearmonth(x, ...)

## S3 method for class 'character'
as_yearmonth(x, ...)

## S3 method for class 'factor'
as_yearmonth(x, ...)

new_yearmonth(x = integer())

is_yearmonth(xx)</code></pre>
<h3 id="sec:arguments_22" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>year</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the year associated with <code>month</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>month</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the month associated with <code>year</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Only used for character input where additional arguments are passed through
to <code>as.Date()</code>.</p>
</td></tr>
</table>
<h3 id="sec:details_7" class="unnumbered unlisted">Details</h3>
<p><code>yearmonth()</code> is a constructor for <code>&lt;grates_yearmonth&gt;</code> objects. It takes a
vector of year and a vector of month values as inputs. Length 1 inputs will
be recycled to the length of the other input and <code>double</code> vectors will
be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_yearmonth()</code> is a generic for coercing input in to <code>&lt;grates_yearmonth&gt;</code>.
</p>
<ul>
<li><p> Character input is first parsed using <code>as.Date()</code>.
</p>
</li>
<li><p> POSIXct and POSIXlt are converted with their timezone respected.
</p>
</li></ul>
<p><code>new_yearmonth()</code> is a minimal constructor for <code>&lt;grates_yearmonth&gt;</code> objects
aimed at developers. It takes, as input, the number of months (starting at 0)
since the Unix Epoch, that you wish to represent. <code>double</code> vectors will again
be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_21" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_yearmonth&gt;</code> object.
</p>
<h3 id="sec:references_3" class="unnumbered unlisted">References</h3>
<p>The algorithm to convert between dates and months relative to the UNIX Epoch
comes from the work of Davis Vaughan in the unreleased
<a href="https://github.com/DavisVaughan/datea/">datea</a> package
</p>
<h3 id="sec:see-also_4" class="unnumbered unlisted">See Also</h3>
<p><code>new_month()</code> and <code>as_month()</code> and for grouping of consecutive months.
</p>
<h3 id="sec:examples_17" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_yearmonth(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_yearmonth[1]&gt;
#&gt; [1] &quot;2025-Mar&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_yearmonth(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_yearmonth[1]&gt;
#&gt; [1] &quot;2019-Mar&quot;
</code></pre>
<pre><code class="language-r"># character coercion
as_yearmonth(&quot;2019-05-03&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_yearmonth[1]&gt;
#&gt; [1] &quot;2019-May&quot;
</code></pre>
<pre><code class="language-r"># construction
yearmonth(year = 2000, month = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_yearmonth[1]&gt;
#&gt; [1] &quot;2000-Mar&quot;
</code></pre>
<pre><code class="language-r"># direct construction
d &lt;- seq.Date(from = as.Date(&quot;1970-01-01&quot;), by = &quot;month&quot;, length.out = 10)
stopifnot(
    identical(
        as_yearmonth(d),
        new_yearmonth(0:9)
    )
)
</code></pre>
<h2 id="sec:man-yearquarter_class">Yearquarter class</h2>
<h3 id="sec:description_23" class="unnumbered unlisted">Description</h3>
<p><code>&lt;grates_yearquarter&gt;</code> objects represent years and associated quarters
Internally they are stored as the number of quarters (starting at 0) since
the Unix Epoch (1970-01-01).
</p>
<h3 id="sec:usage_23" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">yearquarter(year = integer(), quarter = integer())

as_yearquarter(x, ...)

## Default S3 method:
as_yearquarter(x, ...)

## S3 method for class 'Date'
as_yearquarter(x, ...)

## S3 method for class 'POSIXt'
as_yearquarter(x, ...)

## S3 method for class 'character'
as_yearquarter(x, ...)

## S3 method for class 'factor'
as_yearquarter(x, ...)

new_yearquarter(x = integer())

is_yearquarter(xx)</code></pre>
<h3 id="sec:arguments_23" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>year</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the year associated with <code>quarter</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>quarter</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the quarter associated with <code>year</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Only used for character input where additional arguments are passed through
to <code>as.Date()</code>.</p>
</td></tr>
</table>
<h3 id="sec:details_8" class="unnumbered unlisted">Details</h3>
<p><code>yearquarter()</code> is a constructor for <code>&lt;grates_yearquarter&gt;</code> objects. It takes
a vector of year and a vector of quarter values as inputs. Length 1 inputs
will be recycled to the length of the other input and <code>double</code> vectors will
be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_yearquarter()</code> is a generic for coercing input in to <code>&lt;grates_yearquarter&gt;</code>.
</p>
<ul>
<li><p> Character input is first parsed using <code>as.Date()</code>.
</p>
</li>
<li><p> POSIXct and POSIXlt are converted with their timezone respected.
</p>
</li></ul>
<p><code>new_yearquarter()</code> is a minimal constructor for <code>&lt;grates_yearquarter&gt;</code>
objects aimed at developers. It takes, as input, the number of quarters
(starting at 0) since the Unix Epoch, that you wish to represent.
<code>double</code> vectors will again be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_22" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_yearquarter&gt;</code> object.
</p>
<h3 id="sec:examples_18" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_yearquarter(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_yearquarter[1]&gt;
#&gt; [1] &quot;2025-Q1&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_yearquarter(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_yearquarter[1]&gt;
#&gt; [1] &quot;2019-Q1&quot;
</code></pre>
<pre><code class="language-r"># character coercion
as_yearquarter(&quot;2019-05-03&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_yearquarter[1]&gt;
#&gt; [1] &quot;2019-Q2&quot;
</code></pre>
<pre><code class="language-r"># construction
yearquarter(year = 2000, quarter = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_yearquarter[1]&gt;
#&gt; [1] &quot;2000-Q3&quot;
</code></pre>
<pre><code class="language-r"># direct construction
d &lt;- seq.Date(from = as.Date(&quot;1970-01-01&quot;), by = &quot;quarter&quot;, length.out = 4)
stopifnot(
    identical(
        as_yearquarter(d),
        new_yearquarter(0:3)
    )
)
</code></pre>
<h2 id="sec:man-yearweek_class">Yearweek class</h2>
<h3 id="sec:description_24" class="unnumbered unlisted">Description</h3>
<p>Yearweeks start on a user defined day of the week and span a 7 day
period. For yearweek objects the first week of a &quot;year&quot; is considered to be
the first yearweek containing 4 days of the given calendar year. This means
that the calendar year will sometimes be different to that of the associated
yearweek object.
</p>
<p>Internally, <code>&lt;grates_yearweek&gt;</code> objects are stored as the number of weeks
(starting at 0) from the date of the user-specified <code>firstday</code> nearest the
Unix Epoch (1970-01-01). That is, the number of seven day periods from:
</p>
<pre><code>- 1969-12-29 for `firstday` equal to 1 (Monday)
- 1969-12-30 for `firstday` equal to 2 (Tuesday)
- 1969-12-31 for `firstday` equal to 3 (Wednesday)
- 1970-01-01 for `firstday` equal to 4 (Thursday)
- 1970-01-02 for `firstday` equal to 5 (Friday)
- 1970-01-03 for `firstday` equal to 6 (Saturday)
- 1970-01-04 for `firstday` equal to 7 (Sunday)
</code></pre>
<h3 id="sec:usage_24" class="unnumbered unlisted">Usage</h3>
<pre><code class="language-r">yearweek(year = integer(), week = integer(), firstday = 1L)

as_yearweek(x, ...)

## Default S3 method:
as_yearweek(x, ...)

## S3 method for class 'Date'
as_yearweek(x, firstday = 1L, ...)

## S3 method for class 'POSIXt'
as_yearweek(x, firstday = 1L, ...)

## S3 method for class 'character'
as_yearweek(
  x,
  firstday = 1L,
  format,
  tryFormats = c("%Y-%m-%d", "%Y/%m/%d"),
  ...
)

## S3 method for class 'factor'
as_yearweek(
  x,
  firstday = 1L,
  format,
  tryFormats = c("%Y-%m-%d", "%Y/%m/%d"),
  ...
)

new_yearweek(x = integer(), firstday = 1L)

is_yearweek(xx)</code></pre>
<h3 id="sec:arguments_24" class="unnumbered unlisted">Arguments</h3>
<table class="table-full">
<tr><td><code>year</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the year associated with <code>week</code>.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>week</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>Vector representing the week associated with 'year.
</p>
<p><code>double</code> vectors will be converted via <code>as.integer(floor(x))</code>.</p>
</td></tr>
<tr><td><code>firstday</code></td>
<td>
<p><code>[integer]</code>
</p>
<p>The day the week starts on from 1 (Monday) to 7 (Sunday).</p>
</td></tr>
<tr><td><code>x</code>, <code>xx</code></td>
<td>
<p><span class="rlang"><b>R</b></span> objects.</p>
</td></tr>
<tr><td><code>...</code></td>
<td>
<p>Other values passed to as.Date().</p>
</td></tr>
<tr><td><code>format</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Passed to as.Date() unless <code>format = "yearweek"</code> in which case input is
assumed to be in the form &quot;YYYY-Wxx&quot;.
</p>
<p>If not specified, it will try tryFormats one by one on the first non-NA
element, and give an error if none works. Otherwise, the processing is via
<code>strptime()</code> whose help page describes available conversion specifications.</p>
</td></tr>
<tr><td><code>tryFormats</code></td>
<td>
<p><code>[character]</code>
</p>
<p>Format strings to try if format is not specified.</p>
</td></tr>
</table>
<h3 id="sec:details_9" class="unnumbered unlisted">Details</h3>
<p><code>yearweek()</code> is a constructor for <code>&lt;grates_yearweek&gt;</code> objects. These are
weeks whose first day can be specified by the user. It takes a
vector of year and vector of week values as inputs. Length 1 inputs will be
recycled to the length of the other input and <code>double</code> vectors will again be
converted to integer via <code>as.integer(floor(x))</code>.
</p>
<p><code>as_yearweek()</code> is a generic for conversion to <code>&lt;grates_yearweek&gt;</code>.
</p>
<ul>
<li><p> Date, POSIXct, and POSIXlt are converted with the timezone respected.
</p>
</li>
<li><p> Character objects are first coerced to date via <code>as.Date()</code> unless
<code>format = "yearweek"</code> in which case input is assumed to be in the form
&quot;YYYY-Wxx&quot; and parsed accordingly.
</p>
</li></ul>
<p><code>new_yearweek()</code> is a minimal constructor for <code>&lt;grates_yearweek&gt;</code> objects
aimed at developers. It takes, as input, the number of weeks since the
user-specified <code>firstday</code> nearest the Unix Epoch. <code>double</code> vectors
will be converted to integer via <code>as.integer(floor(x))</code>.
</p>
<h3 id="sec:value_23" class="unnumbered unlisted">Value</h3>
<p>A <code>&lt;grates_yearweek&gt;</code> object with subclass corresponding to the first day of
the week they represent (e.g. <code>&lt;grates_yearweek_monday&gt;</code>).
</p>
<h3 id="sec:see-also_5" class="unnumbered unlisted">See Also</h3>
<p><code>new_isoweek()</code> and <code>new_epiweek()</code>.
</p>
<h3 id="sec:examples_19" class="unnumbered unlisted">Examples</h3>
<pre><code class="language-r"># date coercion
as_yearweek(Sys.Date())
</code></pre>
<pre><code>#&gt; &lt;grates_yearweek_monday[1]&gt;
#&gt; [1] &quot;2025-W11&quot;
</code></pre>
<pre><code class="language-r"># POSIXt coercion
as_yearweek(as.POSIXct(&quot;2019-03-04 01:01:01&quot;, tz = &quot;America/New_York&quot;))
</code></pre>
<pre><code>#&gt; &lt;grates_yearweek_monday[1]&gt;
#&gt; [1] &quot;2019-W10&quot;
</code></pre>
<pre><code class="language-r"># character coercion with Friday as the first day of the week
as_yearweek(&quot;2019-05-03&quot;, firstday = 5) # first day is Friday
</code></pre>
<pre><code>#&gt; &lt;grates_yearweek_friday[1]&gt;
#&gt; [1] &quot;2019-W18&quot;
</code></pre>
<pre><code class="language-r"># character coercion in yearweek format
as_yearweek(&quot;2019-W12&quot;, format = &quot;yearweek&quot;)
</code></pre>
<pre><code>#&gt; &lt;grates_yearweek_monday[1]&gt;
#&gt; [1] &quot;2019-W12&quot;
</code></pre>
<pre><code class="language-r"># construction
yearweek(year = 2000, week = 3)
</code></pre>
<pre><code>#&gt; &lt;grates_yearweek_monday[1]&gt;
#&gt; [1] &quot;2000-W03&quot;
</code></pre>
<pre><code class="language-r"># direct construction
stopifnot(
    identical(
        new_yearweek(0:1, firstday = 1),
        as_yearweek(&quot;1969-12-29&quot;, firstday = 1) + 0:1
    )
)
</code></pre>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@1.13.67/css/manual.min.css">
</div>
<footer><div class="flex-col">
<p>Developed by Tim Taylor</p>
<p>Site built with <a href="https://github.com/yihui/litedown">litedown</a> v0.6</p>
</div></footer>
</body>
</html>
